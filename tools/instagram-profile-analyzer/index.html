 <!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <title>تحليل حساب إنستغرام احترافي — MarketAPro</title>
  <meta name="description" content="حلّل حسابك على إنستغرام مجانًا. تشخيص احترافي للموديلز وصناع المحتوى والمتاجر مع جاهزية التعاون والنمو." />
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <link rel="stylesheet" href="/style.css">
</head>
<body>

<main class="container card">
  <h1>تحليل حساب إنستغرام الاحترافي</h1>
  <p class="note">تشخيص مختلف حسب نوع الحساب — موديل / صانع محتوى / متجر</p>

  <!-- الخطوة 1 -->
  <section>
    <label>@اسم المستخدم</label>
    <input id="username" placeholder="marketapro" />

    <label>نوع الحساب</label>
    <select id="type">
      <option value="model">موديل / فاشن</option>
      <option value="creator">صانع محتوى</option>
      <option value="store">متجر</option>
    </select>

    <label>عدد المتابعين</label>
    <input id="followers" type="number" placeholder="مثال: 120000" />
  </section>

  <!-- الخطوة 2 -->
  <section>
    <label>لايكات آخر 6–12 منشور</label>
    <textarea id="likes" placeholder="مثال: 700, 650, 820, 590, 760, 810"></textarea>

    <label>تعليقات آخر 6–12 منشور</label>
    <textarea id="comments" placeholder="مثال: 12, 9, 15, 11, 8, 14"></textarea>
  </section>

  <button id="analyze">تحليل الحساب</button>

  <!-- النتيجة -->
  <section id="result" style="display:none;margin-top:20px">
    <h2 id="headline"></h2>
    <p id="summary"></p>

    <ul>
      <li>Like Rate: <strong id="likeRate"></strong></li>
      <li>Comment Rate: <strong id="commentRate"></strong></li>
      <li>Engagement: <strong id="engagement"></strong></li>
    </ul>

    <h3>التشخيص</h3>
    <p id="diagnosis"></p>

    <h3>خطوة عملية للأسبوع القادم</h3>
    <p id="plan"></p>
  </section>
</main>

<script>
function parseNums(str){
  return str.split(/[, \n]+/)
    .map(s => Number(s.replace(/[^\d]/g,'')))
    .filter(n => n > 0);
}
function avg(arr){ return arr.reduce((a,b)=>a+b,0)/arr.length; }

document.getElementById('analyze').onclick = () => {
  const u = document.getElementById('username').value.trim();
  const type = document.getElementById('type').value;
  const f = Number(document.getElementById('followers').value);
  const likes = parseNums(document.getElementById('likes').value);
  const com = parseNums(document.getElementById('comments').value);

  if(!u || !f || likes.length<3 || com.length<3){
    alert("أدخل كل البيانات بشكل صحيح");
    return;
  }

  const avgLikes = avg(likes);
  const avgCom = avg(com);
  const likeRate = (avgLikes/f)*100;
  const comRate = (avgCom/f)*100;
  const er = likeRate + comRate;

  let diagnosis="", plan="", summary="";

  if(type==="model"){
    summary = "تحليل حساب موديل / فاشن";
    diagnosis = er>3
      ? "حسابك جذاب بصريًا وجاهز للتعاون مع براندات متوسطة."
      : "حسابك جميل بصريًا لكن التفاعل منخفض، ما يقلل فرص التعاون.";
    plan = "انشر Reels بطرح سؤال مباشر في أول 3 ثوانٍ لرفع التعليقات.";
  }

  if(type==="creator"){
    summary = "تحليل حساب صانع محتوى";
    diagnosis = er>2.5
      ? "حسابك قابل للنمو والخوارزمية تستجيب للمحتوى."
      : "التفاعل غير ثابت، مما يضعف ثقة الخوارزمية.";
    plan = "7 أيام: Reel يومي + CTA حفظ + Story سؤال يوميًا.";
  }

  if(type==="store"){
    summary = "تحليل حساب متجر";
    diagnosis = er>2
      ? "التفاعل جيد لكن لا يعني بالضرورة مبيعات."
      : "المحتوى ترويجي أكثر من اللازم ويضعف التفاعل.";
    plan = "انشر 3 منشورات قيمة مقابل كل منشور بيع.";
  }

  document.getElementById('headline').textContent =
    `@${u} — Engagement ${er.toFixed(2)}%`;
  document.getElementById('summary').textContent = summary;
  document.getElementById('likeRate').textContent = likeRate.toFixed(2)+"%";
  document.getElementById('commentRate').textContent = comRate.toFixed(2)+"%";
  document.getElementById('engagement').textContent = er.toFixed(2)+"%";
  document.getElementById('diagnosis').textContent = diagnosis;
  document.getElementById('plan').textContent = plan;

  document.getElementById('result').style.display="block";
};
</script>

</body>
</html>

