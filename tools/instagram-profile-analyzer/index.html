 <!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <title>ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู ูุฌุงููุง โ ุชูุฑูุฑ Score + ูุนุฏู ุงูุชูุงุนู | MarketAPro</title>
  <meta name="description" content="ุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู ุฎูุงู ุฏูููุฉ: ุฃุฏุฎู ุงูููุฒุฑ ุซู ุฃุฑูุงู ุขุฎุฑ ููุดูุฑุงุชู ูุชุญุตู ุนูู Score (0โ100) ููุนุฏู ุงูุชูุงุนู ููุชูุณุท ุงูุฅุนุฌุงุจุงุช ูุงูุชุนูููุงุช ูููุงุฑูุฉ ูุนูุงุฑูุฉ ุญุณุจ ููุน ุงูุญุณุงุจ + ุชูุตูุงุช ูุฎุทุฉ 14 ููู." />
  <meta name="keywords" content="ุชุญููู ุญุณุงุจ ุงูุณุชุบุฑุงู, ูุญุต ุญุณุงุจ ุงูุณุชุบุฑุงู, instagram profile analyzer, ูุนุฏู ุงูุชูุงุนู ุงูุณุชุบุฑุงู, ุชุฏููู ุญุณุงุจ ุงูุณุชุบุฑุงู, engagement rate" />
  <link rel="canonical" href="https://marketapro.com/tools/instagram-profile-analyzer/" />

  <!-- Open Graph -->
  <meta property="og:title" content="ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู ูุฌุงููุง โ ุชูุฑูุฑ ููุฑู" />
  <meta property="og:description" content="Score + ูุนุฏู ุงูุชูุงุนู + ูุชูุณุทุงุช + ููุงุฑูุฉ ูุนูุงุฑูุฉ + ุชูุตูุงุช ุนูููุฉ. ุฃุฏุงุฉ ุนุฑุจูุฉ ูุฌุงููุฉ ูู MarketAPro." />
  <meta property="og:url" content="https://marketapro.com/tools/instagram-profile-analyzer/" />
  <meta property="og:type" content="website" />
  <!-- <meta property="og:image" content="https://marketapro.com/assets/og-instagram-profile-analyzer.jpg" /> -->

  <meta name="twitter:card" content="summary_large_image" />
  <!-- <meta name="twitter:image" content="https://marketapro.com/assets/og-instagram-profile-analyzer.jpg" /> -->

  <link rel="stylesheet" href="/style.css" />

  <!-- Breadcrumb Schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"BreadcrumbList",
    "itemListElement":[
      {"@type":"ListItem","position":1,"name":"ุงูุฑุฆูุณูุฉ","item":"https://marketapro.com/"},
      {"@type":"ListItem","position":2,"name":"ุงูุฃุฏูุงุช","item":"https://marketapro.com/tools/"},
      {"@type":"ListItem","position":3,"name":"ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู","item":"https://marketapro.com/tools/instagram-profile-analyzer/"}
    ]
  }
  </script>

  <!-- FAQ Schema -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"FAQPage",
    "mainEntity":[
      {
        "@type":"Question",
        "name":"ูู ุงูุฃุฏุงุฉ ุชุญูู ุญุณุงุจ ุฅูุณุชุบุฑุงู ุชููุงุฆููุงุ",
        "acceptedAnswer":{
          "@type":"Answer",
          "text":"ุงูุฃุฏุงุฉ ุชูุฏู ุชูุฑูุฑ ุชุฏููู (Audit) ุณุฑูุน. ูุถูุงู ุฃุฑูุงู ุฏูููุฉุ ุชุคูุฏ ุฃูุช ุจูุงูุงุช ุขุฎุฑ ููุดูุฑุงุชู (ูุงููุงุช/ุชุนูููุงุช) ุจุฏูู ุชุณุฌูู ุฏุฎูู ุฃู ูุตูู API."
        }
      },
      {
        "@type":"Question",
        "name":"ูุง ูู ุฃูุถู ุทุฑููุฉ ูุฅุฏุฎุงู ุงูุจูุงูุงุชุ",
        "acceptedAnswer":{
          "@type":"Answer",
          "text":"ุงูุณุฎ ุฃุฑูุงู ุงูุฅุนุฌุงุจุงุช ูุงูุชุนูููุงุช ูุขุฎุฑ 6โ12 ููุดูุฑ ูุถุนูุง ููุตููุฉ ุจููุงุตู ุฃู ุฃุณุทุฑ. ุงูุฃุฏุงุฉ ุชุญุณุจ ุงููุชูุณุทุงุช ููุนุฏู ุงูุชูุงุนู ูScore ุชููุงุฆููุง."
        }
      },
      {
        "@type":"Question",
        "name":"ููู ูุชู ุญุณุงุจ ูุนุฏู ุงูุชูุงุนูุ",
        "acceptedAnswer":{
          "@type":"Answer",
          "text":"Engagement Rate = (ูุชูุณุท ุงูุฅุนุฌุงุจุงุช + ูุชูุณุท ุงูุชุนูููุงุช) รท ุนุฏุฏ ุงููุชุงุจุนูู ร 100. ุงูุฃุฏุงุฉ ุชูููุฐ ุงูุญุณุงุจ ุชููุงุฆููุง ูุชูุฏูู ููุงุฑูุฉ ูุนูุงุฑูุฉ ุญุณุจ ููุน ุงูุญุณุงุจ."
        }
      }
    ]
  }
  </script>

  <style>
    /* โ ุณุชุงููุงุช ูุญููุฉ ูุถูุงู ุนูู ุงูุตูุญุฉ ุญุชู ูู style.css ุงุฎุชูู */
    .grid2{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
    @media(max-width:900px){.grid2{grid-template-columns:1fr}}
    .mini{padding:14px;border-radius:16px;border:1px solid var(--border,rgba(255,255,255,.12));background:rgba(255,255,255,.02)}
    .mini label{display:block;color:var(--muted,#a6b3cc);font-weight:900;margin-bottom:6px;font-size:13px}
    .mini input,.mini select,.mini textarea{
      width:100%;padding:12px 12px;border-radius:14px;border:1px solid var(--border,rgba(255,255,255,.12));
      background:rgba(255,255,255,.02);color:var(--text,#e8f0ff);outline:none
    }
    .mini textarea{resize:vertical;min-height:86px}
    .note2{color:var(--muted,#a6b3cc);font-size:13px;margin:8px 0 0;line-height:1.8}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
    .pill{display:inline-flex;gap:8px;align-items:center;padding:6px 10px;border-radius:999px;border:1px solid var(--border,rgba(255,255,255,.12));background:rgba(255,255,255,.02);font-weight:900;font-size:12px;color:var(--muted,#a6b3cc)}
    .loader{
      display:none;align-items:center;gap:10px;margin-top:12px;
      padding:12px;border-radius:16px;border:1px solid var(--border,rgba(255,255,255,.12));background:rgba(255,255,255,.02)
    }
    .dot{width:8px;height:8px;border-radius:99px;background:rgba(56,189,248,.9);animation:b .9s infinite alternate}
    .dot:nth-child(2){animation-delay:.15s}
    .dot:nth-child(3){animation-delay:.3s}
    @keyframes b{from{opacity:.3;transform:translateY(0)}to{opacity:1;transform:translateY(-4px)}}

    .steps{display:flex;gap:10px;flex-wrap:wrap;margin-top:10px}
    .step{padding:8px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.02);color:var(--muted,#a6b3cc);font-weight:900;font-size:12px}
    .step.on{color:#00131a;border:0;background:linear-gradient(135deg,#06b6d4,#38bdf8)}

    .report{display:none;margin-top:12px}
    .scoreBox{padding:14px;border-radius:16px;border:1px solid var(--border,rgba(255,255,255,.12));background:rgba(255,255,255,.02)}
    .scoreTop{display:flex;justify-content:space-between;align-items:center;gap:10px}
    .scoreNum{font-weight:1000;font-size:34px;line-height:1}
    .scoreLabel{color:var(--muted,#a6b3cc);font-weight:900}
    .meter{height:10px;border-radius:999px;background:rgba(255,255,255,.06);overflow:hidden;margin-top:10px;border:1px solid rgba(255,255,255,.08)}
    .meter > div{height:100%;width:0%}

    .kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-top:12px}
    @media(max-width:980px){.kpis{grid-template-columns:1fr}}
    .kpi{padding:14px;border-radius:16px;border:1px solid var(--border,rgba(255,255,255,.12));background:rgba(255,255,255,.02)}
    .kpi strong{display:block;font-size:18px}
    .kpi span{color:var(--muted,#a6b3cc);font-size:13px}

    .cards2{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
    @media(max-width:980px){.cards2{grid-template-columns:1fr}}
    .list{margin:8px 0 0;padding-right:18px;color:var(--muted,#a6b3cc);line-height:1.9}

    .toast{
      position:fixed;inset-inline-start:16px;bottom:16px;
      background:rgba(0,0,0,.65);border:1px solid rgba(255,255,255,.12);
      padding:10px 12px;border-radius:14px;color:#fff;
      display:none;z-index:9999
    }

    /* ุฃุฒุฑุงุฑ ุงุญุชูุงุทูุฉ (ูู style.css ูุง ุนูุฏู btn) */
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:12px 14px;border-radius:14px;font-weight:900;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.03);color:#fff;cursor:pointer}
    .btn.primary{border:0;background:linear-gradient(135deg,#06b6d4,#38bdf8);color:#00131a}
    .btn.secondary{background:transparent}

    .hint{display:flex;gap:10px;align-items:flex-start;margin-top:10px;padding:12px;border-radius:14px;border:1px dashed rgba(255,255,255,.14);background:rgba(255,255,255,.02)}
    .hint strong{display:block}
    .hint p{margin:0;color:var(--muted,#a6b3cc);font-size:13px;line-height:1.8}
  </style>
</head>

<body>
<header class="header">
  <div class="container header-inner">
    <a class="brand" href="/" aria-label="ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ">
      <div class="brand-badge" aria-hidden="true"></div>
      <div>
        <p class="brand-title">MarketAPro</p>
        <p class="brand-sub">Instagram Analysis Hub</p>
      </div>
    </a>

    <nav class="nav" aria-label="ุงููุงุฆูุฉ ุงูุฑุฆูุณูุฉ">
      <a href="/">ุงูุฑุฆูุณูุฉ</a>
      <a class="active" href="/tools/">ุงูุฃุฏูุงุช</a>
      <a href="/news/">ุงูููุงูุงุช</a>
      <a href="https://vivamediacreative.com/ar/" rel="noopener">Viva Media Creative</a>
    </nav>
  </div>
</header>

<main class="container section">
  <div class="card">
    <h1 style="margin:0 0 8px;font-size:28px;line-height:1.4">ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู ูุฌุงููุง</h1>

    <nav aria-label="Breadcrumb" class="note" style="margin-top:10px">
      <a href="/">ุงูุฑุฆูุณูุฉ</a> โ
      <a href="/tools/">ุงูุฃุฏูุงุช</a> โ
      <span>ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู</span>
    </nav>

    <p class="note" style="margin-top:10px">
      ุฃุฏุฎู ุงูููุฒุฑ ูููุน ุงูุญุณุงุจุ ุซู ุฃูุตู ุฃุฑูุงู ุขุฎุฑ ููุดูุฑุงุชู ููุญุตูู ุนูู <strong>ูุชุงุฆุฌ ุฏูููุฉ</strong> (ูุชูุณุท ูุงููุงุช/ุชุนูููุงุช + Engagement + Score).
    </p>

    <div class="steps" aria-label="ุฎุทูุงุช ุงูุชุญููู">
      <span class="step on" id="s1">1) ุฅุฏุฎุงู ุงูููุฒุฑ</span>
      <span class="step" id="s2">2) ุชุฌููุฒ ุงูุชุญููู</span>
      <span class="step" id="s3">3) ุชุฃููุฏ ุงูุจูุงูุงุช</span>
      <span class="step" id="s4">4) ุงูุชูุฑูุฑ ุงูููุงุฆู</span>
    </div>

    <form id="form" class="grid2" style="margin-top:12px">
      <div class="mini">
        <label for="username">ุงุณู ุงููุณุชุฎุฏู</label>
        <input id="username" type="text" inputmode="text" placeholder="@username" autocomplete="off" required />
        <p class="note2">ูุซุงู: <strong>@marketapro</strong> (ููุฒุฑ ููุท ุจุฏูู ุฑุงุจุท)</p>
      </div>

      <div class="mini">
        <label for="acctType">ููุน ุงูุญุณุงุจ</label>
        <select id="acctType" required>
          <option value="model">ููุฏูู / ูุงุดู / ุชุตููุฑ</option>
          <option value="creator">ุตุงูุน ูุญุชูู / ูุคุซุฑ</option>
          <option value="business">ูุชุฌุฑ / ุจุฒูุณ</option>
        </select>
        <p class="note2">ูุณุชุฎุฏู ูุฐุง ูุงุฎุชูุงุฑ ููุงุฑูุฉ ูุนูุงุฑูุฉ ูุชูุตูุงุช ููุงุณุจุฉ.</p>
      </div>

      <div class="mini" style="grid-column:1/-1">
        <div class="row" style="margin-top:0">
          <button class="btn primary" type="submit">๐ ุชุญููู ุงูุญุณุงุจ</button>
          <button class="btn secondary" id="resetBtn" type="button">ูุณุญ</button>
          <span class="pill">ุจุฏูู ุชุณุฌูู</span>
          <span class="pill">ุฃุฑูุงู ุฏูููุฉ (ูู ููุดูุฑุงุชู)</span>
          <span class="pill">Score + ุชูุตูุงุช</span>
        </div>

        <div class="loader" id="loader" aria-live="polite">
          <div style="display:flex;gap:6px">
            <span class="dot"></span><span class="dot"></span><span class="dot"></span>
          </div>
          <div style="color:var(--muted,#a6b3cc);font-weight:900" id="loaderText">ุฌุงุฑู ุชุฌููุฒ ุงูุชุญูููโฆ</div>
        </div>

        <div class="hint" id="hintBox" style="display:none">
          <div style="font-size:18px">โ</div>
          <div>
            <strong>ุชู ุชุฌููุฒ ุงูุชุญููู ุงููุจุฏุฆู</strong>
            <p>ูุฅุนุทุงุฆู <b>ุฃุฑูุงููุง ุญููููุฉ</b>ุ ุฃูุตู ูุงููุงุช/ุชุนูููุงุช ุขุฎุฑ 6โ12 ููุดูุฑ (ุชุฃุฎุฐ 30 ุซุงููุฉ ููุท).</p>
          </div>
        </div>
      </div>

      <!-- Confirmation (real numbers) -->
      <div class="mini" id="confirmBox" style="grid-column:1/-1;display:none">
        <strong style="display:block;margin-bottom:8px">โ ุชุฃููุฏ ุงูุจูุงูุงุช ููุญุตูู ุนูู ุฃุฑูุงู ุญููููุฉ</strong>
        <p class="note2" style="margin-top:0">
          ูุฐู ุงูุฎุทูุฉ ุชุฌุนู ุงูุชูุฑูุฑ ุฏููููุง ูุฃููุง ุชุนุชูุฏ ุนูู ููุดูุฑุงุชู ูุนูููุง (ุจุฏูู ุฏุฎูู ุฃู API).
        </p>

        <div class="grid2">
          <div>
            <label for="followers">ุนุฏุฏ ุงููุชุงุจุนูู</label>
            <input id="followers" type="number" min="1" placeholder="ูุซุงู: 12500" required />
            <p class="note2">ุงูุณุฎู ูู ุตูุญุฉ ุญุณุงุจู.</p>
          </div>

          <div>
            <label for="goal">ูุฏูู ุงูุฃุณุงุณู</label>
            <select id="goal" required>
              <option value="engagement">ุฒูุงุฏุฉ ุงูุชูุงุนู</option>
              <option value="followers">ุฒูุงุฏุฉ ุงููุชุงุจุนูู</option>
              <option value="sales">ูุจูุนุงุช / ุญุฌูุฒุงุช / ุชุนุงููุงุช</option>
            </select>
            <p class="note2">ุชูุตูุงุชูุง ุณุชุชุบูุฑ ุญุณุจ ุงููุฏู.</p>
          </div>

          <div class="mini" style="grid-column:1/-1">
            <label for="likesList">ูุงููุงุช ุขุฎุฑ 10 ููุดูุฑุงุช (ุงูุณุฎ ุงูุฃุฑูุงู)</label>
            <textarea id="likesList" placeholder="ูุซุงู: 320, 280, 410, 390, 260, 300, 450, 370, 290, 310"></textarea>
            <p class="note2">ููููู ูุชุงุจุฉ 6 ููุดูุฑุงุช ููุท ูุญุฏ ุฃุฏูู. ููุงุตู ุฃู ุฃุณุทุฑโููู ููุจูู.</p>
          </div>

          <div class="mini" style="grid-column:1/-1">
            <label for="commentsList">ุชุนูููุงุช ุขุฎุฑ 10 ููุดูุฑุงุช</label>
            <textarea id="commentsList" placeholder="ูุซุงู: 18, 12, 25, 21, 9, 15, 30, 17, 11, 14"></textarea>
            <p class="note2">ุงูุชุจ ุฃุฑูุงู ุงูุชุนูููุงุช ูููุณ ุนุฏุฏ ุงูููุดูุฑุงุช ุชูุฑูุจูุง.</p>
          </div>

          <div class="mini" style="grid-column:1/-1">
            <div class="row" style="margin-top:0">
              <button class="btn primary" id="buildReportBtn" type="button">โ ุงุนุฑุถ ุงูุชูุฑูุฑ ุงูููุงุฆู</button>
              <button class="btn secondary" id="copyReportBtn" type="button">ูุณุฎ ุงูุชูุฑูุฑ</button>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>

  <!-- REPORT -->
  <div class="card report" id="report">
    <div class="scoreBox">
      <div class="scoreTop">
        <div>
          <div id="title" style="font-weight:1000;font-size:18px">ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู</div>
          <div id="subtitle" class="note2">โ</div>
        </div>
        <div style="text-align:left">
          <div class="scoreNum" id="scoreNum">0</div>
          <div class="scoreLabel" id="scoreLabel">โ</div>
        </div>
      </div>
      <div class="meter"><div id="meterFill"></div></div>
      <p class="note2" id="benchmark" style="margin-top:10px"></p>
    </div>

    <div class="kpis">
      <div class="kpi"><strong id="followersText">0</strong><span>ุงููุชุงุจุนูู</span></div>
      <div class="kpi"><strong id="avgLikesText">0</strong><span>ูุชูุณุท ุงูุฅุนุฌุงุจุงุช</span></div>
      <div class="kpi"><strong id="avgCommentsText">0</strong><span>ูุชูุณุท ุงูุชุนูููุงุช</span></div>
      <div class="kpi"><strong id="erText">0%</strong><span>Engagement</span></div>
    </div>

    <div class="cards2">
      <div class="mini">
        <strong>ุชุดุฎูุต ุณุฑูุน</strong>
        <p id="diagnosis" class="note2" style="margin-top:8px"></p>
        <ul id="weakPoints" class="list"></ul>
      </div>

      <div class="mini">
        <strong>ุชูุตูุงุช ุนูููุฉ</strong>
        <ol id="recs" class="list"></ol>
      </div>
    </div>

    <div class="mini" style="margin-top:12px">
      <strong>ุฎุทุฉ ุงุฎุชุจุงุฑ 14 ููู</strong>
      <p class="note2" id="testPlan" style="margin-top:8px"></p>
    </div>

    <div class="mini" style="margin-top:12px">
      <strong>ุฑูุงุจุท ุฃุฏูุงุช ุฃุฎุฑู (ูููุฉ)</strong>
      <ul class="list">
        <li><a href="/tools/best-time-to-post-instagram/">ุฃูุถู ููุช ูููุดุฑ ุนูู ุฅูุณุชุบุฑุงู</a></li>
        <li><a href="/tools/instagram-engagement-calculator/">ุญุงุณุจุฉ ูุนุฏู ุงูุชูุงุนู (Engagement Rate)</a></li>
      </ul>
    </div>

    <div class="mini" style="margin-top:12px">
      <strong>ููุงุญุธุฉ ุดูุงูุฉ</strong>
      <p class="note2" style="margin-top:8px">
        ุงูุฃุฑูุงู ููุง ุญููููุฉ ูุฃููุง ูุจููุฉ ุนูู ุจูุงูุงุช ุขุฎุฑ ููุดูุฑุงุชู ุงูุชู ุฃุฏุฎูุชูุง ุฃูุช. ุงูุฃุฏุงุฉ ูุง ุชุทูุจ ุชุณุฌูู ุฏุฎูู ููุง ุชุณุชุฎุฏู API.
      </p>
    </div>
  </div>

  <p class="note" style="margin-top:14px">
    By <a href="https://vivamediacreative.com/ar/" rel="noopener">Viva Media Creative</a>
  </p>
</main>

<footer class="footer">
  <div class="container">ยฉ 2025 MarketAPro โ By Viva Media Creative</div>
</footer>

<div class="toast" id="toast">ุชู โ</div>

<script>
  const $ = (id)=>document.getElementById(id);

  function toast(msg){
    const t = $('toast');
    t.textContent = msg;
    t.style.display = 'block';
    clearTimeout(window.__t);
    window.__t = setTimeout(()=>t.style.display='none', 1400);
  }

  function setStep(n){
    const ids = ['s1','s2','s3','s4'];
    ids.forEach((x,i)=>{
      const el = $(x);
      if(!el) return;
      el.classList.toggle('on', i === (n-1));
    });
  }

  function sanitizeUsername(v){
    v = (v||"").trim().replace(/\s+/g,'');
    if(!v) return "";
    if(v.startsWith("https://")) v = v.split("/").filter(Boolean).pop() || v;
    if(v.startsWith("@")) v = v.slice(1);
    v = v.replace(/[^a-zA-Z0-9._]/g,'');
    return v.toLowerCase();
  }

  function clamp(n,min,max){ return Math.max(min, Math.min(max,n)); }

  function fmt(n){ return Number(n||0).toLocaleString('ar'); }

  function labelScore(score){
    if(score >= 80) return "ููุชุงุฒ";
    if(score >= 65) return "ููู";
    if(score >= 50) return "ูุชูุณุท";
    return "ุถุนูู";
  }

  function scoreColor(score){
    if(score >= 75) return "linear-gradient(135deg, rgba(34,197,94,.95), rgba(56,189,248,.65))";
    if(score >= 55) return "linear-gradient(135deg, rgba(250,204,21,.95), rgba(56,189,248,.45))";
    return "linear-gradient(135deg, rgba(239,68,68,.95), rgba(56,189,248,.35))";
  }

  function benchmarks(type){
    if(type === "model") return {min:2.5, max:4.5, note:"ูุชูุณุท ุงูุชูุงุนู ููููุฏููุฒ ุบุงูุจูุง ุจูู 2.5% ู 4.5% ููุญุณุงุจุงุช ุงูุตุบูุฑุฉ ูุงููุชูุณุทุฉ."};
    if(type === "creator") return {min:1.8, max:3.8, note:"ูุชูุณุท ุงูุชูุงุนู ูุตูุงุน ุงููุญุชูู ุบุงูุจูุง ุจูู 1.8% ู 3.8% ุญุณุจ ุงููุฌุงู ูุงูุญุฌู."};
    return {min:1.2, max:3.0, note:"ูุชูุณุท ุงูุชูุงุนู ููุญุณุงุจุงุช ุงูุชุฌุงุฑูุฉ ุบุงูุจูุง ุจูู 1.2% ู 3.0% (ูุฒูุฏ ูุน ูุญุชูู ููู/UGC)."};
  }

  function buildDiagnosis({type, goal, er, commentRate}){
    const weak = [];
    let txt = "";

    if(er < 1){
      txt = "ูุนุฏู ุงูุชูุงุนู ููุฎูุถ ุญุงูููุง. ุบุงูุจูุง ุงูุณุจุจ: ูุญุชูู ุนุงู + ุถุนู Hook/CTA + ุนุฏู ุซุจุงุช ูู ุงููุดุฑ.";
      weak.push("ุซุจูุช ููุนูู ูุญุชูู ููุฏุฉ ุฃุณุจูุนูู ุซู ูุงุฑู ุงููุชุงุฆุฌ.");
    }else if(er < 2.5){
      txt = "ุงูุชูุงุนู ูุชูุณุท. ูุฏูู ุฃุณุงุณ ุฌูุฏ ููู ุชุญุชุงุฌ ุชุญุณูู ูู ููุน ุงููุญุชูู ูCTA ูุฑูุน ุงููุตูู.";
      weak.push("ุงุฌุนู 60% ูู ุงููุญุชูู Carousel/ุฑููุฒ ูููุฉ ุจุฏู ุตูุฑ ุนุงูุฉ.");
    }else{
      txt = "ุงูุชูุงุนู ุฌูุฏ/ููู. ุฑููุฒ ุงูุขู ุนูู ุชุซุจูุช ุงูุฃูุถู ูุชุญุณูู ุงูุชุนูููุงุช ูุฒูุงุฏุฉ ุงูุงูุชุดุงุฑ.";
      weak.push("ุงุฎุชุจุฑ ุชูููุชูู ุซุงุจุชูู ููุฏุฉ 14 ููู ูุซุจูุช ุงูุฃูุถู.");
    }

    if(commentRate < 0.08){
      weak.push("ุงูุชุนูููุงุช ููุฎูุถุฉ: ุงุณุชุฎุฏู CTA ุณุคุงู ูุจุงุดุฑ ุฃู ุงุฎุชูุงุฑ A/B ุจุฏู CTA ุนุงู.");
    }else{
      weak.push("ุงูุชุนูููุงุช ุฌูุฏุฉ: ุญุงูุธ ุนูู ุฃุณุฆูุฉ ูุงุถุญุฉ ูStory ุชูุงุนููุฉ.");
    }

    if(type === "model"){
      weak.push("ููููุฏููุฒ: Pose tutorials + Behind the scenes + Before/After ูุฑูุน ุงูุทูุจ.");
    }else if(type === "business"){
      weak.push("ูููุชุงุฌุฑ: UGC/Reviews + ูุจู/ุจุนุฏ + Story FAQ ูุชุญุณูู ุงูุชุญููู.");
    }else{
      weak.push("ูุตูุงุน ุงููุญุชูู: ุงุนุชูุฏ ุณูุงุณู Part 1/2/3 ูุน CTA ูุชุงุจุนุฉ ูุงุถุญ.");
    }

    if(goal === "sales"){
      weak.push("ููุชุญููู: ุฅุซุจุงุช ุงุฌุชูุงุนู + ุนุฑุถ ูุงุถุญ + CTA DM/ูุงุชุณุงุจ 1โ2 ูุฑุฉ ุฃุณุจูุนููุง.");
    }else if(goal === "followers"){
      weak.push("ููุฒูุงุฏุฉ: ุฑููุฒ ูุตูุฑุฉ ูุงุจูุฉ ูููุดุงุฑูุฉ + Carousel ูุงุจู ููุญูุธ.");
    }

    return {txt, weak: weak.slice(0,5)};
  }

  function buildRecs({type, goal, er, commentRate}){
    const recs = [];
    recs.push("ุงุฎุชุฑ 2 ุชูููุช ูุดุฑ ููุท ููุฏุฉ 14 ููู ูุณุฌูู ุงููุชุงุฆุฌ (ุญูุธ/ุชุนูููุงุช).");
    recs.push("CTA ูุงุญุฏ ูุงุถุญ ููู ููุดูุฑ (ุณุคุงู/ุงุฎุชูุงุฑ/ุทูุจ ุฑุฃู).");
    if(commentRate < 0.08) recs.push("ุงุฑูุน ุงูุชุนูููุงุช: โุงุฎุชูุฑ A/Bโ ุฃู โุตุญ/ุบูุทุโ ูู ุขุฎุฑ ูู ููุดูุฑ.");
    if(type === "model") recs.push("3 ุฑููุฒ ุฃุณุจูุนููุง: (Pose) + (BTS) + (Before/After) ูุน ูุต ุนูู ุงูุดุงุดุฉ.");
    if(type === "business") recs.push("2 Carousel ุฃุณุจูุนููุง: (ุญู ูุดููุฉ + ุฏููู ุดุฑุงุก) + Story FAQ ููููุฉ.");
    if(type === "creator") recs.push("ุณูุณูุฉ ุฃุณุจูุนูุฉ ุซุงุจุชุฉ (ููู ูุญุฏุฏ) ูุฒูุงุฏุฉ ุงูุนูุฏุฉ ูุงููุชุงุจุนุฉ.");
    if(goal === "sales") recs.push("ููุดูุฑ ุชุญููู ุฃุณุจูุนููุง: (ูุดููุฉโุญูโูุชูุฌุฉโุฅุซุจุงุชโCTA).");
    if(er >= 2.5) recs.push("ูุฑูุฑ ุฃูุถู ููุน ูุญุชูู 2ร ุฃุณุจูุนููุง ุจุฏู ุงูุชุดุชุช ุจูู 6 ุฃููุงุน.");
    return recs.slice(0,6);
  }

  function buildPlan(){
    return "ุงูุฃุณุจูุน 1: 2 Reels + 2 Carousel ุจุชูููุชูู ุซุงุจุชูู. ุงูุฃุณุจูุน 2: ูุฑุฑ ุงูุฃูุถู + ุบููุฑ CTA (ุณุคุงู vs A/B). ุซู ุซุจูุช ุฃูุถู (ููุน ูุญุชูู + ุชูููุช + CTA) ููุฏุฉ 30 ููู.";
  }

  function parseNums(str){
    if(!str) return [];
    return str
      .split(/[, \n\r\t]+/)
      .map(s => parseFloat(String(s).replace(/[^\d.]/g,'')))
      .filter(n => !isNaN(n) && isFinite(n));
  }

  function avg(arr){
    if(!arr.length) return 0;
    return arr.reduce((a,b)=>a+b,0)/arr.length;
  }

  function setMeter(score){
    const fill = $('meterFill');
    fill.style.width = score + "%";
    fill.style.background = scoreColor(score);
  }

  function calcScore(type, er, commentRate){
    const b = benchmarks(type);
    const norm = clamp((er - b.min) / (b.max - b.min), 0, 1);
    let score = Math.round(35 + norm * 60);
    if(commentRate >= 0.12) score += 3;
    if(commentRate < 0.05) score -= 6;
    return clamp(score, 0, 100);
  }

  async function copyText(txt){
    try{
      await navigator.clipboard.writeText(txt);
      toast("ุชู ูุณุฎ ุงูุชูุฑูุฑ โ");
    }catch(e){
      alert("ุชุนุฐุฑ ุงููุณุฎ ุชููุงุฆููุง. ุงูุณุฎ ูุฏูููุง:\n\n" + txt);
    }
  }

  // DOM
  const form = $('form');
  const loader = $('loader');
  const loaderText = $('loaderText');
  const hintBox = $('hintBox');
  const confirmBox = $('confirmBox');
  const report = $('report');

  function resetAll(){
    loader.style.display = "none";
    hintBox.style.display = "none";
    confirmBox.style.display = "none";
    report.style.display = "none";
    setStep(1);
  }

  $('resetBtn').addEventListener('click', ()=>{
    $('username').value = "";
    $('followers').value = "";
    $('likesList').value = "";
    $('commentsList').value = "";
    resetAll();
    toast("ุชู ุงููุณุญ");
  });

  form.addEventListener('submit', (e)=>{
    e.preventDefault();

    const u = sanitizeUsername($('username').value);
    if(!u){ toast("ุงูุชุจ ุงุณู ูุณุชุฎุฏู ุตุญูุญ"); return; }

    resetAll();
    setStep(2);
    loader.style.display = "flex";

    // โุฅุญุณุงุณ ุงูุชุญูููโ ููู ุจุดูู ุตุงุฏู: ุชุฌููุฒ ุชูุฑูุฑ + ุงุณุชุฎุฑุงุฌ ุฅุดุงุฑุงุช ุนุงูุฉ
    const msgs = [
      "ุฌุงุฑู ุงูุชุญูู ูู ุดูู ุงูุญุณุงุจ ูุชุฌููุฒ ุงูููุงูุจโฆ",
      "ุฌุงุฑู ุชุฌููุฒ ุงูููุงุฑูุฉ ุงููุนูุงุฑูุฉ ุญุณุจ ููุน ุงูุญุณุงุจโฆ",
      "ุฌุงุฑู ุชุฌููุฒ ุงูุชูุฑูุฑ ุงููุจุฏุฆูโฆ"
    ];
    let i = 0;
    loaderText.textContent = msgs[i];

    const t = setInterval(()=>{
      i++;
      if(i < msgs.length){
        loaderText.textContent = msgs[i];
      }else{
        clearInterval(t);
        loader.style.display = "none";
        hintBox.style.display = "flex";
        confirmBox.style.display = "block";
        setStep(3);
        toast("ุชู ุชุฌููุฒ ุงูุชุญููู โ ุฃุฏุฎู ุจูุงูุงุช ุงูููุดูุฑุงุช ููุญุตูู ุนูู ุฃุฑูุงู ุฏูููุฉ โ");
        window.scrollTo({top: confirmBox.offsetTop - 90, behavior:"smooth"});
      }
    }, 650);
  });

  function buildReport(){
    const u = sanitizeUsername($('username').value);
    const type = $('acctType').value;
    const goal = $('goal').value;
    const followers = parseInt(($('followers').value||"0"),10);
    const likesArr = parseNums($('likesList').value);
    const comArr = parseNums($('commentsList').value);

    if(!u){ toast("ุงูุชุจ ุงุณู ูุณุชุฎุฏู ุตุญูุญ"); return null; }
    if(!followers || followers < 1){ toast("ุฃุฏุฎู ุนุฏุฏ ุงููุชุงุจุนูู"); return null; }
    if(likesArr.length < 6){ toast("ุฃุฏุฎู ูุงููุงุช 6 ููุดูุฑุงุช ุนูู ุงูุฃูู"); return null; }
    if(comArr.length < 6){ toast("ุฃุฏุฎู ุชุนูููุงุช 6 ููุดูุฑุงุช ุนูู ุงูุฃูู"); return null; }

    const avgLikes = avg(likesArr);
    const avgComments = avg(comArr);

    const likeRate = (avgLikes / followers) * 100;
    const commentRate = (avgComments / followers) * 100;
    const er = likeRate + commentRate;

    const score = calcScore(type, er, commentRate);
    const b = benchmarks(type);

    const diag = buildDiagnosis({type, goal, er, commentRate});
    const recs = buildRecs({type, goal, er, commentRate});
    const plan = buildPlan();

    return {u, type, goal, followers, avgLikes, avgComments, likeRate, commentRate, er, score, b, diag, recs, plan};
  }

  $('buildReportBtn').addEventListener('click', ()=>{
    const r = buildReport();
    if(!r) return;

    setStep(4);

    $('title').textContent = `ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู (@${r.u})`;
    $('subtitle').textContent = `ูุชูุณุท ูุงููุงุช โ ${Math.round(r.avgLikes)} | ูุชูุณุท ุชุนูููุงุช โ ${Math.round(r.avgComments)} | Engagement: ${r.er.toFixed(2)}%`;

    $('scoreNum').textContent = r.score;
    $('scoreLabel').textContent = "ุงูุชูููู: " + labelScore(r.score);

    $('benchmark').textContent = `${r.b.note} (ุญุณุงุจู: ${r.er.toFixed(2)}%)`;
    $('followersText').textContent = fmt(r.followers);
    $('avgLikesText').textContent = fmt(Math.round(r.avgLikes));
    $('avgCommentsText').textContent = fmt(Math.round(r.avgComments));
    $('erText').textContent = r.er.toFixed(2) + "%";

    setMeter(r.score);

    $('diagnosis').textContent = r.diag.txt;

    const weak = $('weakPoints'); weak.innerHTML = "";
    r.diag.weak.forEach(x=>{
      const li = document.createElement('li');
      li.textContent = x;
      weak.appendChild(li);
    });

    const recList = $('recs'); recList.innerHTML = "";
    r.recs.forEach(x=>{
      const li = document.createElement('li');
      li.textContent = x;
      recList.appendChild(li);
    });

    $('testPlan').textContent = r.plan;

    report.style.display = "block";
    toast("ุชู ุฅูุดุงุก ุงูุชูุฑูุฑ ุงูููุงุฆู โ");
    window.scrollTo({top: report.offsetTop - 85, behavior:"smooth"});

    window.__reportText =
`MarketAPro โ ุชุญููู ุญุณุงุจ ุฅูุณุชุบุฑุงู (@${r.u})

ุงููุชุงุจุนูู: ${fmt(r.followers)}
ูุชูุณุท ูุงููุงุช: ${fmt(Math.round(r.avgLikes))}
ูุชูุณุท ุชุนูููุงุช: ${fmt(Math.round(r.avgComments))}
Engagement: ${r.er.toFixed(2)}%

Score: ${r.score}/100 โ ${labelScore(r.score)}
ุงูููุงุฑูุฉ: ${r.b.note}

ุชุดุฎูุต:
${r.diag.txt}

ููุงุท ุชุญุณูู:
- ${r.diag.weak.join("\n- ")}

ุชูุตูุงุช:
- ${r.recs.join("\n- ")}

ุฎุทุฉ 14 ููู:
${r.plan}

ุฑูุงุจุท:
- ุฃูุถู ููุช ูููุดุฑ: https://marketapro.com/tools/best-time-to-post-instagram/
- ุญุงุณุจุฉ ุงูุชูุงุนู: https://marketapro.com/tools/instagram-engagement-calculator/
`;
  });

  $('copyReportBtn').addEventListener('click', ()=>{
    const txt = window.__reportText || "";
    if(!txt){ toast("ุฃูุดุฆ ุงูุชูุฑูุฑ ุฃูููุง"); return; }
    copyText(txt);
  });
</script>
</body>
</html>

